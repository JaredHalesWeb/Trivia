<div class="login-page">
  <mat-card class="login-card">
    <h1>{{ isLogin ? 'Login' : 'Sign Up' }}</h1>

    <form (ngSubmit)="isLogin ? login(email, password) : signup(email, password)">
      <!-- Email Input -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput type="email" [(ngModel)]="email" name="email" required autocomplete="username email" />
      </mat-form-field>

      <!-- Password Input -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Password</mat-label>
        <input matInput type="password" [(ngModel)]="password" name="password" required autocomplete="current-password" />
      </mat-form-field>

      <!-- Submit Button -->
      <button mat-flat-button color="primary" type="submit" class="full-width" [disabled]="isLoading">
        {{ isLogin ? 'Login' : 'Sign Up' }}
      </button>

      <!-- Status Messages -->
      <div class="status-messages">
        <mat-progress-spinner *ngIf="isLoading" diameter="32" mode="indeterminate" color="accent"></mat-progress-spinner>
        <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
        <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
      </div>
    </form>

    <!-- Toggle Login / Sign-up -->
    <p class="toggle">
      {{ isLogin ? "Don't have an account?" : "Already have an account?" }}
      <a (click)="toggleForm()">{{ isLogin ? "Sign up" : "Login" }}</a>
    </p>
  </mat-card>
</div>
