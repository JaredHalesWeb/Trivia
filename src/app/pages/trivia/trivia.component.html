<div class="trivia-container" *ngIf="isLoading">
  <p class="loading-text">Loading questions...</p>
</div>

<div class="trivia-container" *ngIf="!isLoading && questions.length > 0">
  <div class="question-box">
    <h3>Question {{ currentQuestionIndex + 1 }} of {{ questions.length }}</h3>
    <p [innerHTML]="questions[currentQuestionIndex]?.question"></p>

    <div class="options">
      <button
        *ngFor="let option of questions[currentQuestionIndex]?.options"
        [disabled]="answered"
        [ngClass]="{
          'correct': answered && option === questions[currentQuestionIndex].correctAnswer,
          'incorrect': answered && option === selectedAnswer && option !== questions[currentQuestionIndex].correctAnswer
        }"
        (click)="checkAnswer(option)"
      >
        {{ option }}
      </button>
    </div>

    <div class="feedback" *ngIf="answered">
      <p *ngIf="selectedAnswer === questions[currentQuestionIndex].correctAnswer" class="correct-text">✅ Correct!</p>
      <p *ngIf="selectedAnswer !== questions[currentQuestionIndex].correctAnswer" class="incorrect-text">
        ❌ Wrong! The correct answer was <strong>{{ questions[currentQuestionIndex].correctAnswer }}</strong>
      </p>
      <button class="next-btn" (click)="nextQuestion()">Next Question</button>
    </div>
  </div>
</div>

<div class="trivia-container" *ngIf="!isLoading && questions.length === 0">
  <p>No questions available. Please try again later.</p>
</div>
